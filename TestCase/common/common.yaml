module: common
skip: false
description: 公共关键字
steps:
#   科学运算
  - ${test1} = $.id(1+2*3)
  - ${test2} = $.id('test'+' '+'common')
#   设置全局变量
  - setVar('test3', True)
  # 获取全局变量
  - ${test3} = $.getVar('test3')
  # 休眠
  - sleep(5)

  - openUrl('https://www.baidu.com')
  - ${elements} = $.getElements('class=title-content-title')
  # 获取数组长度
  - ${len} = $.getLen(${elements})
  # while 循环
  - while ${len}:
      - ${len} = $.id(${len}-1)
      - ${element} = ${elements}[${len}]
      - ${text} = $.getText(${element})
      # if elif else
      - if ${len} == 3:
          # 断言
          - assert ${len} == 3
        elif ${text} == '美国将对更多中国公民实施签证限制':
          - break
        else:
          - sleep(1)

  # call 公共方法
  - call common_action(${elements}[0])

  # 用脚本无返回值-调用selenium api完成复杂动作
  - keyDown('title-content-title')
  - sendKeys('name=wd','Keys.COMMAND', 'v')

  # 调用脚本有返回值
  - ${text} = getText()

